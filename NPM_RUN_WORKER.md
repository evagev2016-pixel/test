# npm run worker - –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
`npm run worker` –∑–∞–ø—É—Å–∫–∞–µ—Ç **–¥–≤–∏–∂–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ—Ç–æ–≤**, –∫–æ—Ç–æ—Ä—ã–π:
- –û–ø—Ä–∞—à–∏–≤–∞–µ—Ç DynamoDB –≤ –ø–æ–∏—Å–∫–∞—Ö –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–∞–Ω—Å—ã –±—Ä–∞—É–∑–µ—Ä–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Playwright
- –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ URL-–∞–¥—Ä–µ—Å–∞ —É–º–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ Adsterra —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–∫—Å–∏
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏ –∫–ª–∏–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è

## –ö–æ–º–∞–Ω–¥–∞
```bash
npm run worker
```

–ó–∞–ø—É—Å–∫–∞–µ—Ç: `tsx src/worker.ts`

## –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### 1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ `.env`
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—ã Playwright (Chrome, Firefox, Safari), –µ—Å–ª–∏ –æ–Ω–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ AWS DynamoDB –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞–Ω–∏–π
- –ß–∏—Ç–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `src/config/index.ts`

### 2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞**
- –ß–∏—Ç–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –∏–∑ DynamoDB
- –í—ã—á–∏—Å–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤)
- –°–æ–∑–¥–∞–µ—Ç **—Å–µ–º–∞—Ñ–æ—Ä** –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ–∞–Ω—Å–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç 10-50 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```
CONCURRENT_JOBS=50              # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö –∑–∞–¥–∞–Ω–∏–π
MAX_CONCURRENT_JOBS=500         # –ñ–µ—Å—Ç–∫–∏–π –ª–∏–º–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
MAX_CONCURRENT_BROWSERS=10      # –õ–∏–º–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
MAX_WORKER_THREADS=15           # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ–Ω–æ–≤—ã—Ö —Ä–∞–±–æ—á–∏—Ö –ø–æ—Ç–æ–∫–æ–≤
```

### 3. **–ó–∞–ø—É—Å–∫ —Ä–∞–±–æ—á–µ–≥–æ —Ü–∏–∫–ª–∞**
- –°–æ–∑–¥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 15)
- –ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –±–æ—Ä–µ—Ç—Å—è –∑–∞ "—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ" —Å–µ–º–∞—Ñ–æ—Ä–∞
- –°–µ–º–∞—Ñ–æ—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ N –±—Ä–∞—É–∑–µ—Ä–æ–≤ (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å/–ø—Ä–æ–∫—Å–∏)

### 4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞–Ω–∏—è (–Ω–∞ –ø–æ—Ç–æ–∫)**

#### a) **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è**
- –û–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `AdsterraJobs` –≤ DynamoDB –≤ –ø–æ–∏—Å–∫–∞—Ö –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- –°–æ–±–ª—é–¥–∞–µ—Ç –≤—Ä–µ–º—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ `PROCESS_IMMEDIATELY=true`)
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞–Ω–∏—è, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –±—É–¥—É—â–µ–µ
- –ü–æ–º–µ—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ "–∞–∫—Ç–∏–≤–Ω–æ–µ" –ø—Ä–∏ –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏–∏

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```
QUEUE_POLL_INTERVAL=1000       # –ö–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è (–º—Å)
PROCESS_IMMEDIATELY=true        # true = –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, false = —Å–æ–±–ª—é–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
```

#### b) **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω–∏—è**
- –ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞–Ω–∏—è:
  - `adsterraUrl`: URL —É–º–Ω–æ–π —Å—Å—ã–ª–∫–∏ Adsterra –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–∏—è
  - `runId`: –ö –∫–∞–∫–æ–º—É –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–º—É –∑–∞–ø—É—Å–∫—É —ç—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±—Ä–∞—É–∑–µ—Ä–∞: headless/headful, —Ç–∞–π–º-–∞—É—Ç—ã
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–µ–º–µ–Ω–∏: –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏, –≤—Ä–µ–º—è –∫–ª–∏–∫–∞ –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—é

#### c) **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞**
- –ó–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø—Ä–æ–∫—Å–∏ (–∏–∑–±–µ–≥–∞–µ—Ç –æ—à–∏–±–æ–∫ 502)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```
LAUNCH_STAGGER_MS=5000         # –ú–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤
```

#### d) **–ó–∞–ø—É—Å–∫ —Å–µ–∞–Ω—Å–∞ –±—Ä–∞—É–∑–µ—Ä–∞**
- –í—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–º–æ–±–∏–ª—å–Ω–æ–µ/–Ω–∞—Å—Ç–æ–ª—å–Ω–æ–µ/–ø–ª–∞–Ω—à–µ—Ç)
- –í—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä (Chrome/Firefox/Safari)
- –í—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–∞–Ω—É –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–æ–∫—Å–∏ (BrightData/IPRoyal/DataImpulse)
- –°–æ–∑–¥–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –±—Ä–∞—É–∑–µ—Ä–∞ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º User-Agent

#### e) **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ URL Adsterra**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ–∫—Å–∏
- –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ URL —É–º–Ω–æ–π —Å—Å—ã–ª–∫–∏ Adsterra
- –ñ–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ç–∞–π–º-–∞—É—Ç 120 —Å–µ–∫—É–Ω–¥)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏ –∏ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

**–õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–∞:**
- –ï—Å–ª–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —É–¥–∞–µ—Ç—Å—è, –ø—Ä–æ–±—É–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä (Chrome ‚Üí Firefox ‚Üí Safari)
- –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö –ø—Ä–æ–∫—Å–∏

#### f) **–ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –±–æ—Ç–∞**
- **–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20-60 —Å–µ–∫—É–Ω–¥)
- **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (—Å–ª—É—á–∞–π–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã) –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- **–ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **–ö–ª–∏–∫ –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—é** –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä Adsterra)
- **–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞** (20-60 —Å–µ–∫—É–Ω–¥) –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–ó–∞–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞** –∏ –æ—á–∏—Å—Ç–∫–∞

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```
MIN_SCROLL_WAIT=0               # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π (–º—Å)
MAX_SCROLL_WAIT=0               # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π (–º—Å)
MIN_AD_WAIT=20000               # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–º—Å)
MAX_AD_WAIT=60000               # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–º—Å)
```

### 5. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
- –ü–æ–º–µ—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ "–∑–∞–≤–µ—Ä—à–µ–Ω–æ" –∏–ª–∏ "–æ—à–∏–±–∫–∞" –≤ DynamoDB
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–µ–∞–Ω—Å–∞ (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–ø—É—Å–∫–∞:
  - –í—Å–µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
  - –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### 6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–≤–µ—Ä—à–µ–Ω—ã –ª–∏ –∫–∞–∫–∏–µ-–ª–∏–±–æ –∑–∞–ø—É—Å–∫–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–ø—É—Å–∫–∞ –Ω–∞ "–∑–∞–≤–µ—Ä—à–µ–Ω–æ", –µ—Å–ª–∏ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å:
  - –î–æ—Ö–æ–¥ (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã √ó —Å—Ç–∞–≤–∫–∞ CPM)
  - –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å √ó $/–ì–ë)
  - –ú–∞—Ä–∂–∞ –ø—Ä–∏–±—ã–ª–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
- –õ–æ–≥–∏—Ä—É–µ—Ç —Å–≤–æ–¥–∫—É –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤

## –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
–ü–æ —Å–µ–∞–Ω—Å—É –∑–∞–¥–∞–Ω–∏—è:
- ‚úÖ –°—Ç–∞—Ç—É—Å —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–∫–∏
- ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- üåç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∞ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- üîÑ –í—Å—Ç—Ä–µ—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- üìä –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

–ü–æ –∑–∞–ø—É—Å–∫—É:
- üìà –í—Å–µ–≥–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- ‚ùå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
- üí∞ –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–π –¥–æ—Ö–æ–¥
- üí∏ –°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- üíµ –ü—Ä–∏–±—ã–ª—å/–£–±—ã—Ç–æ–∫

## –°–≤–æ–¥–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|---------|---------|
| `PROXY_PROVIDER` | `brightdata` | –ö–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–∫—Å–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
| `PROCESS_IMMEDIATELY` | `true` | –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è —Å–µ–π—á–∞—Å –∏–ª–∏ —Å–æ–±–ª—é–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ |
| `CONCURRENT_JOBS` | 50 | –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã |
| `MAX_CONCURRENT_JOBS` | 500 | –ñ–µ—Å—Ç–∫–∏–π –ª–∏–º–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π |
| `MAX_CONCURRENT_BROWSERS` | 10 | –õ–∏–º–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã |
| `QUEUE_POLL_INTERVAL` | 1000 –º—Å | –ö–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è |
| `LAUNCH_STAGGER_MS` | 5000 –º—Å | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤ |
| `MIN_AD_WAIT` | 20000 –º—Å | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è |
| `MAX_AD_WAIT` | 60000 –º—Å | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è |
| `BROWSER_HEADLESS` | `true` | –ó–∞–ø—É—Å–∫–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä—ã –≤ headless –∏–ª–∏ headful —Ä–µ–∂–∏–º–µ |

## –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
npm run worker –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
    ‚Üì
–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ DynamoDB
    ‚Üì
–í—ã—á–∏—Å–ª–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
    ‚Üì
–°–æ–∑–¥–∞—Ç—å 15 —Ä–∞–±–æ—á–∏—Ö –ø–æ—Ç–æ–∫–æ–≤
    ‚Üì
–ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫: –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–µ–º–∞—Ñ–æ—Ä–∞ (–º–∞–∫—Å. N –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö)
    ‚Üì
–û–ø—Ä–æ—Å–∏—Ç—å DynamoDB –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
    ‚Üì
–ï—Å–ª–∏ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ:
    ‚îú‚îÄ –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–ø—É—Å–∫ (5 —Å–µ–∫—É–Ω–¥ –∑–∞–¥–µ—Ä–∂–∫–∏)
    ‚îú‚îÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä —Å –ø—Ä–æ–∫—Å–∏
    ‚îú‚îÄ –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ URL Adsterra
    ‚îú‚îÄ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã + –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
    ‚îú‚îÄ –ö–ª–∏–∫ –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—é
    ‚îú‚îÄ –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
    ‚îú‚îÄ –ó–∞–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
    ‚îú‚îÄ –ü–æ–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–æ/–æ—à–∏–±–∫–∞
    ‚îî‚îÄ –û—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–µ–º–∞—Ñ–æ—Ä–∞
    ‚Üì
–ó–∞–¥–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ: –ø–æ–¥–æ–∂–¥–∞—Ç—å 1 —Å–µ–∫—É–Ω–¥—É, –æ–ø—Ä–æ—Å–∏—Ç—å —Å–Ω–æ–≤–∞
    ‚Üì
–ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç:
    ‚îú‚îÄ –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
    ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞
    ‚îú‚îÄ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å
    ‚îî‚îÄ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–¥–∫—É
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|-------|-------|----------|
| Worker –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –∑–∞–¥–∞–Ω–∏—è –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è | –ù–µ—Ç –∑–∞–¥–∞–Ω–∏–π –≤ –æ—á–µ—Ä–µ–¥–∏ | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ orchestrator –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é |
| –û—à–∏–±–∫–∏ "502" –ø—Ä–æ–∫—Å–∏ | –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | –°–Ω–∏–∑—å—Ç–µ `CONCURRENT_JOBS` –∏–ª–∏ `LAUNCH_STAGGER_MS` |
| –ö—Ä–∞—à–∏ –±—Ä–∞—É–∑–µ—Ä–∞ | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏ | –°–Ω–∏–∑—å—Ç–µ `CONCURRENT_JOBS` |
| –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞–Ω–∏–π | –û–∂–∏–¥–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å–µ–º–∞—Ñ–æ—Ä–∞ | –£–≤–µ–ª–∏—á—å—Ç–µ `CONCURRENT_JOBS` –∏–ª–∏ —Å–Ω–∏–∑—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É |
| –ó–∞–¥–∞–Ω–∏—è –∑–∞—Å—Ç—Ä—è–ª–∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "–∞–∫—Ç–∏–≤–Ω–æ" | Worker –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ worker; –∑–∞–¥–∞–Ω–∏—è –±—É–¥—É—Ç –ø–µ—Ä–µ–ø–æ–ª—É—á–µ–Ω—ã |

## –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–£–≤–µ–ª–∏—á–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å**: –ü–æ–≤—ã—Å—å—Ç–µ `CONCURRENT_JOBS` –∏ —Å–Ω–∏–∑—å—Ç–µ `LAUNCH_STAGGER_MS` (–µ—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç)
2. **–°–Ω–∏–∑–∏—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã**: –°–Ω–∏–∑—å—Ç–µ `CONCURRENT_JOBS` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–Ω—å—à–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
3. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –ø—Ä–æ–∫—Å–∏**: –î–µ—Ä–∂–∏—Ç–µ `LAUNCH_STAGGER_MS` –≤—ã—Å–æ–∫–∏–º (5-10 —Å–µ–∫) –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ—à–∏–±–æ–∫ 502
4. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**: –û—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ `MIN_AD_WAIT` –∏ `MAX_AD_WAIT` –¥–ª—è –≤–∞—Ä—å–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª–∏–Ω—ã —Å–µ–∞–Ω—Å–∞

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- **–ù–∞—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è**: `npm run orchestrator` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –ø–∞–∫–µ—Ç—ã –∑–∞–¥–∞–Ω–∏–π)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: `npm run check:active-runs` (–ø—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤)
- **–°—Ç–∞—Ç—É—Å –æ—á–µ—Ä–µ–¥–∏**: `npm run check:queue` (–ø—Ä–æ—Å–º–æ—Ç—Ä –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π)
- **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å worker**: –ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

---

**–í–µ—Ä—Å–∏—è**: 1.0 | **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 15 —è–Ω–≤–∞—Ä—è 2026
